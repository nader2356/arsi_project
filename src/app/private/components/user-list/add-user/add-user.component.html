<div class="pt-0">
  <div class="container-fluid">
     <div class="row">
        <div class="col-xs-12">
              <div class="card">
                 <div class="card-header d-flex justify-content-between">
                    <div class="header-title">
                       <h4 class="card-title">Ajouter un nouveau utilisateur</h4>
                    </div>
                 </div>
              <div class="card-body">
                  <div class="new-user-info">
                    <form #myForm="ngForm" (ngSubmit)="onSubmit(newUser)">
                        <div class="row">
                          <div class="form-group col-md-6">
                            <label for="fname">Prénom:</label>
                            <input type="text" class="form-control" name="firstName" placeholder="prénom" [(ngModel)]="newUser.firstName" required>
                            <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['firstName']?.invalid && myForm.controls['firstName'].touched">
                              Le prénom est obligatoire.
                            </div>
                          </div>
                          <div class="form-group col-md-6">                     
                            <label for="lname">Nom:</label>
                            <input type="text" class="form-control" name="lastName" placeholder="nom" [(ngModel)]="newUser.lastName" required>
                            <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['lastName']?.invalid && myForm.controls['lastName'].touched">
                              Le nom est obligatoire.
                            </div>
                          </div>
                          <div class="form-group col-md-6">
                            <label for="uname">Nom de l'utilisateur:</label>
                            <input type="text" class="form-control" name="userName" placeholder="Username" [(ngModel)]="newUser.userName" required>
                            <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['userName']?.invalid && myForm.controls['userName'].touched">
                             Le nom de l'utilisateur est obligatoire.
                            </div>
                          </div>
                          <div class="form-group col-md-6">
                            <label for="mobno">Numéro de téléphone:</label>
                            <input type="text" class="form-control" name="phoneNumber" placeholder="22558877" maxlength="8" minlength="8" [(ngModel)]="newUser.phoneNumber" required>
                            <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['phoneNumber']?.invalid && myForm.controls['phoneNumber'].touched && !myForm.controls['phoneNumber']?.hasError('minlength')">
                              Le numéro de téléphone est obligatoire.
                            </div>
                            <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['phoneNumber']?.hasError('minlength')">Phone number must have 8 characters.</div>
                          </div>
                          <div class="form-group col-md-6">
                            <input type="email" class="form-control" name="email" placeholder="Email" [(ngModel)]="newUser.email" required email>
                            <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['email']?.invalid && myForm.controls['email'].touched && !myForm.controls['email']?.hasError('email')">
                              L'email est obligatoire.
                            </div>
                            <div class="text-danger mt-2" *ngIf="myForm.controls['email']?.hasError('email')">
                              Merci de tapper une adresse valide.
                            </div>
                        </div>
                        <div class="form-group col-md-6">                        
                          <label for="password">Mot de passe:</label>
                          <input type="password" class="form-control" name="password" placeholder="mot de passe" [(ngModel)]="newUser.password" required>
                          <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['password']?.invalid && myForm.controls['password'].touched">
                            Le mot de passe est obligatoire.
                          </div>
                      </div>
                      <div class="form-group col-md-6">
                        <label for="email">Date de naissance:</label>
                        <input type="date" class="form-control" name="dateOfBirth" placeholder="date de naissance" [(ngModel)]="newUser.dateOfBirth" required>
                        <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['dateOfBirth']?.invalid && myForm.controls['dateOfBirth'].touched">
                          La date de naisssance est obligatoire.
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                      <label for="email">Poste:</label>
                      <input type="text" class="form-control" name="job" placeholder="poste" [(ngModel)]="newUser.job" required>
                      <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['job']?.invalid && myForm.controls['job'].touched">
                       La poste est obligatoire.
                      </div>
                  </div>
                  <div class="form-group col-sm-6">
                    <label>Bureau régional</label>
                    <select class="form-control" name="office" [(ngModel)]="newUser.office" required>
                      <option>OFFICE_SFAX</option>
                      <option>OFFICE_TUNIS</option>
                      <option>OFFICE_SOUSSE</option>
                    </select>
                    <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['office']?.invalid && myForm.controls['office'].touched">
                      Must select on option.
                      Merci de séléctionner un bureau.
                    </div>
                  </div>

                  <div class="form-group col-sm-6">
                    <label>Genre:</label>
                    <select class="form-control" name="gender" [(ngModel)]="newUser.gender" required>
                      <option>male</option>
                      <option>female</option>
                      <option>masculin</option>
                      <option>féminin</option>
                    </select>
                    <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['gender']?.invalid && myForm.controls['gender'].touched">
                      Must select on option.
                    </div>
                  </div>
                  <div class="form-group col-md-6">
                    <label for="cname">Le nom de l'université:</label>
                    <input type="text" class="form-control" name="universityOrCompany" placeholder="le nom de l'université" [(ngModel)]="newUser.universityOrCompany" required>
                    <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['universityOrCompany']?.invalid && myForm.controls['universityOrCompany'].touched">
                      Le nom de l'université est obligatoire.
                    </div>
                  </div>
                      <div class="form-group col-md-6">
                        <label for="city">Région:</label>
                        <input type="text" class="form-control" name="region" placeholder="région" [(ngModel)]="newUser.region" required>
                        <div class="text-danger text-sm ml-2" *ngIf="myForm.controls['region']?.invalid && myForm.controls['region'].touched">
                          La région est obligatoire.
                        </div>
                      </div>

                      <div class="card-body">
                        <p>Profile Image:</p>
                        <div class="custom-file mb-3">
                          <input type="file" class="custom-file-input" name="image" accept="image/*" [(ngModel)]="newUser.image">
                          <label class="custom-file-label">{{newUser.image ? newUser.image.split('\\').pop() : "Choose file"}}</label>
                        </div>
                     </div>

                  </div>
                  <hr>
                  <div class="text-center mt-2">
                    <button type="submit" class="btn btn-primary mr-2" [disabled]="myForm.invalid">Ajouter</button>
                    <button button type="reset" class="btn bg-gray" (click)="goBack()">Annuler</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
     </div>
  </div>
</div>